<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="style.css">

	<script type="text/javascript" src="paper-full.min.js"></script>

	<script type="text/paperscript" canvas="myCanvas">
		var layer = project.activeLayer;
		// Create a Paper.js Path to draw a line into it:
		var prepath = new Path();
		// Give the stroke a color
		
		 //path.shadowColor = 'red';
		 //path.shadowBlur = 20;
		 //path.shadowOffset = 10;
		prepath.add(new Point(165, 219));
		prepath.add(new Point(386, 92));
		prepath.add(new Point(386, 807));
		prepath.add(new Point(431, 854));
		prepath.add(new Point(509, 854));
		prepath.add(new Point(509, 886));
		prepath.add(new Point(162, 886));
		prepath.add(new Point(162, 854));
		prepath.add(new Point(241, 854));
		prepath.add(new Point(283, 807));
		prepath.add(new Point(283, 197));
		prepath.add(new Point(165, 254));
		prepath.add(new Point(165, 219));
		prepath.closed = true;

		// for(var i = 0; i < 5; i++){
		// 	for(var j = 0; j < path.segments.length - 1; j++){
		// 		var dif = path.segments[j].point - path.segments[j+1].point;
		// 		if(dif.length > 50){
		// 			var midPoint = (path.segments[j].point + path.segments[j+1].point)/2;
		// 			path.insert(j+1, midPoint);
		// 			j++;
		// 		}
				
		// 	}
		// }
		var path = new Path();
		path.strokeColor = 'blue';
		path.fillColor = 'blue';

		 for(var i = 0; i < 70; i++){
			var offset = (prepath.length / 70) * i;
			var point = prepath.getPointAt(offset);
			path.add(point);
		}

		path.closed = true;
		
		
		//path.add(new Point(0, 0));
		//path.add(new Point(0, 0));
		//path.add(new Point(0, 0));
		//path.add(new Point(0, 0));

		 var path2 = new Path();
		 //path2.strokeColor = 'black';
		 path2.add(new Point(680, 100));
		 path2.add(new Point(993, 100));
		 path2.add(new Point(1045, 87));
		 path2.add(new Point(1022, 200));
		 path2.add(new Point(730, 200));
		 path2.add(new Point(666, 429));
		 var p1 = new Point(848, 360);
		 var p2 = new Point(-150, 0);
		 var p3 = new Point(150, 0);
		 path2.add(new Segment(p1, p2, p3));
		 path2.add(new Segment(new Point(1082, 628), new Point(0, -150), new Point(0, 150)));
		 path2.add(new Segment(new Point(819, 900), p3, new Point(-180, 0)));
		 path2.add(new Point(579, 704));
		 path2.add(new Point(605, 691));
		 path2.add(new Segment(new Point(813, 802), p2, p3));
		 path2.add(new Segment(new Point(987, 599), new Point(0, 80), new Point(0, -150)));
		 path2.add(new Segment(new Point(817, 399), new Point(80, 0), p2));
		 path2.add(new Point(646, 526));
		 path2.add(new Point(613, 526));
		 path2.add(new Point(680, 100));
		 path2.closed = true;

		 var path3 = new Path();
		 path3.strokeColor = 'blue';
		 path3.fillColor = 'blue';
		 //path3.shadowColor = 'red';
		 //path3.shadowBlur = 20;
		 //path3.shadowOffset = 10;

		 for(var i = 0; i < 100; i++){
			var offset = (path2.length / 100) * i;
			var point = path2.getPointAt(offset);
			path3.add(point);
		}

		path3.closed = true;
		 // for(var i = 0; i < path3.segments.length; i++){
		 // 		var shape = new Shape.Circle(new Point(path3.segments[i].point.x, path3.segments[i].point.y), 5);
		 // 		shape.strokeColor = 'red';
		 // 	}
		var path4 = new Path();
		for(var i = 0; i < path3.segments.length; i++){
			path4.add(new Point(path3.segments[i].point.x, path3.segments[i].point.y));
		}
		path4.closed = true;

		var path5 = new Path();
		for(var i = 0; i < path.segments.length; i++){
			path5.add(new Point(path.segments[i].point.x, path.segments[i].point.y));
		}
		//path4.strokeColor = "red";

		function onFrame(event) {
			// for(var i = 0; i < path3.segments.length; i++){
			// 	//new Shape.circle(new Point(path2.segments[i].point.x, path2.segments[i].point.y), 5);
			// 	var randx = (Math.random() * 10) - 5;
			// 	var randy = (Math.random() * 10) - 5;
			// 	path3.segments[i].point.x = path4.segments[i].point.x + randx;
			// 	path3.segments[i].point.y = path4.segments[i].point.y + randy;
			// }

			 for(var i = 0; i < path3.segments.length; i++){
			 	//new Shape.circle(new Point(path2.segments[i].point.x, path2.segments[i].point.y), 5);
			 	var randx = (Math.random() * 1) - 0.5;
			 	var randy = (Math.random() * 1) - 0.5;
			 	var dif = path3.segments[i].point - path4.segments[i].point;
			 	//var distx = ((path3.segments[i].point.x + randx) - path4.segments[i].point.x).length;
			 	//var disty = ((path3.segments[i].point.y + randy) - path4.segments[i].point.y).length;
			 	if(dif.length > 50){
			 		path3.segments[i].point.x = path4.segments[i].point.x;
			 		path3.segments[i].point.y = path4.segments[i].point.y;

			 	} else {
			 		path3.segments[i].point.x += randx;
			 		path3.segments[i].point.y += randy;
			 		//path3.segments[i].handleIn += randx/3;
			 		//path3.segments[i].handleOut += randy/3;
			 	}
			 	//path3.segments[i].point.x += randx;
			 	//path3.segments[i].point.y += randy;
			 }

			// for(var i = 0; i < path.segments.length; i++){
			// 	var randx = (Math.random() * 2) - 1;
			// 	var randy = (Math.random() * 2) - 1;
			// 	//path.segments[i].handleIn += randx;
			// 	//path.segments[i].handleOut += randy;
			// 	path.segments[i].point.x += randx;
			// 	path.segments[i].point.y += randy;
			// }

			for(var i = 0; i < path.segments.length; i++){
			 	//new Shape.circle(new Point(path2.segments[i].point.x, path2.segments[i].point.y), 5);
			 	var randx = (Math.random() * 1) - 0.5;
			 	var randy = (Math.random() * 1) - 0.5;
			 	var dif = path.segments[i].point - path5.segments[i].point;
			 	//var distx = ((path3.segments[i].point.x + randx) - path4.segments[i].point.x).length;
			 	//var disty = ((path3.segments[i].point.y + randy) - path4.segments[i].point.y).length;
			 	if(dif.length > 100){
			 		path.segments[i].point.x = path5.segments[i].point.x;
			 		//path.segments[i].point.y = path5.segments[i].point.y;

			 		
			 	} else {
			 		path.segments[i].point.x += randx;
			 		path.segments[i].point.y += randy;
			 		//path.segments[i].handleIn += randx;
			 	}

			
			 		//path.segments[i].handleOut += randy;
			 	
			 	//path3.segments[i].point.x += randx;
			 	//path3.segments[i].point.y += randy;
			 }

			
		}

</script>
</head>
<body>
	<!-- <h1>documenta</h1> -->
	<canvas id="myCanvas" resize></canvas>

</body>
</html>